<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>L8ab Tools | Recon & OSINT</title>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="bg"></div>
  <div class="container">
    <header>
      <h1>L8AB <span>TOOLS</span></h1>
      <p class="subtitle">Advanced Reconnaissance Platform</p>
    </header>

    <div class="input-box">
      <input type="text" id="target" placeholder="Enter target (example.com)" autofocus>
      <button onclick="scan()">SCAN TARGET</button>
    </div>

    <div id="output" class="output"></div>
  </div>

<script>
async function scan() {
  const target = document.getElementById('target').value.trim();
  const out = document.getElementById('output');
  if (!target) return alert("Enter a valid target");

  out.innerHTML = `<div class="scan">Scanning ${target}...</div>`;

  try {
    const res = await fetch('/scan', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({url: target})
    });
    const data = await res.json();

    if (data.blacklisted) {
      out.innerHTML = `<div class="blacklisted">
        <h2>DOMAIN BLACKLISTED</h2>
        <p>${data.message}</p>
        <p>Domain: ${data.domain}</p>
      </div>`;
      return;
    }

    out.innerHTML = `
<div class="result">
<pre>
TARGET      : ${data.domain}
IP ADDRESS  : ${data.ip}
COUNTRY     : ${data.country} (${data.city})
ISP / HOST  : ${data.isp} | ${data.hosting}
ASN         : ${data.asn}

OPEN PORTS:
${data.ports}

TECHNOLOGIES:
${data.tech || "Not detected"}

WHOIS:
${data.whois}

SUBDOMAINS:
${data.subdomains}

━━━━━━━━━━━━━━━━━━━━━━━━━━
L8ab Tools | Ethical Use Only
Contact: L8ab@proton.me
</pre>
</div>`;
  } catch (e) {
    out.innerHTML = `<div class="error">Scan failed – Try again</div>`;
  }
}
</script>
</body>
</html>
