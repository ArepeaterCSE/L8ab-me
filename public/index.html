<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>L8ab's Tools</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="matrix"></div>
  <div class="container">
    <header>
      <h1>L8ab<span>'s</span> Tools</h1>
      <p class="tagline">Advanced Reconnaissance Terminal</p>
    </header>

    <div class="scanner-box">
      <input type="text" id="target" placeholder="https://example.com" autocomplete="off">
      <button onclick="scan()">SCAN TARGET</button>
    </div>

    <div id="results" class="results"></div>

    <footer>
      <p>L8ab@proton.me • Use only with permission</p>
    </footer>
  </div>

<script>
async function scan() {
  const url = document.getElementById('target').value.trim();
  const out = document.getElementById('results');
  if (!url) return alert("Enter target");

  out.style.display = 'block';
  out.innerHTML = `<div class="log">Initiating scan on ${url}...</div>`;

  try {
    const r = await fetch('/scan', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({url}) });
    const d = await r.json();

    if (d.blacklisted) {
      out.innerHTML = `<div class="blacklisted">${d.message.replace(/\n/g, '<br>')}</div>`;
      return;
    }

    out.innerHTML = `
<div class="log">Target: ${d.domain || url}</div>
<div class="log">IP: ${d.ip} | ${d.country} (${d.city})</div>
<div class="log">ISP: ${d.isp} • Org: ${d.org}</div>
<div class="log">Open Ports:<br><pre>${d.ports}</pre></div>
<div class="log">Technologies: ${d.tech}</div>
<div class="log">Subdomains:<br><pre>${d.subdomains}</pre></div>
<div class="log">Whois:<br><pre>${d.whois}</pre></div>
<div class="log">Scan completed • L8ab's Tools</div>
    `;
  } catch (e) {
    out.innerHTML = `<div class="error">Scan failed or blocked</div>`;
  }
}
</script>
</body>
</html>
